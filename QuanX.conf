// ==UserScript==
// @ConfigName        QuanX 配置
// @Author            HL
// @UpdateTime        2022/08/18
// @ConfigVersion     2.0
// @ScriptURL         https://raw.githubusercontent.com/HL1u/Forown/main/QuanX.conf
// ==/UserScript==

# > GeoLite2 来源, 并开启「自动更新」
; https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb

# > 利用描述文件屏蔽IOS更新提醒（兼容IOS13、14、15）
; https://app.initnil.com/tvOS.mobileconfig


[general]

# > 用于节点延迟测试
server_check_url= http://www.qualcomm.cn/generate_204
# > 服务器测试超时时间 (毫秒)
server_check_timeout = 2000
# > 用于设置图标显示
profile_img_url=https://github.githubassets.com/images/modules/site/integrators/google.png
# > 用于Check节点IP地址
geo_location_checker=disabled
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
;geo_location_checker=http://api.live.bilibili.com/ip_service/v1/ip_service/get_ip_addr? , https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/IP_bili_cn.js
;geo_location_checker=http://ifconfig.co/json, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IPConfig.js
;geo_location_checker= http://extreme-ip-lookup.com/json/, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IPCheck.js
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/GeoLocationChecker/QuantumultX/IP-API.js
# > 解析器，用于引用资源的转换
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# > 下列路径将不经过QuanX的处理
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
udp_whitelist=1-442, 444-65535
# > dns_exclusion_list
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com


[rewrite_local]



[rewrite_remote]


#>>>>>>>>>>>解锁会员
https://github.com/ddgksf2013/Cuttlefish/raw/master/Rewrite/AdBlock/Bilibili.conf, tag=B站去广告+1080P高码率


#>>>>>>>>>>>软件增强
https://raw.githubusercontent.com/zZPiglet/Task/master/UnblockURLinWeChat.conf, tag=微信解锁被屏蔽的URL
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/JD_TB_price.conf, tag=比价脚本
https://raw.githubusercontent.com/id77/QuantumultX/master/rewrite/Youtube_CC.conf#out=Hant, tag=油管字幕翻译



#>>>>>>>>>>>应用去广告
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/AdBlock/StartUp.conf, tag=应用去开屏广告
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zhihu/zhihu_plus.qxrewrite, tag=知乎去广告及体验增强
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Applet/QuanX.conf, tag=微信小程序去广告
https://github.com/DivineEngine/Profiles/raw/master/Quantumult/Rewrite/Block/YouTubeAds.conf, tag=油管去广告
https://github.com/zmqcherish/proxy-script/raw/main/weibo.conf, tag=微博去广告


#>>>>>>>>>>>通用去广告
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/Advertising/Advertising.conf, tag=去广告重写
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=神机重定向



[server_local]


[server_remote]
# > 临时使用01
; https://proxies.bihai.cf/vmess/sub?filter=r, tag=TemporaryUse, update-interval=172800, opt-parser=true, enabled=true
# > 临时使用02
https://proxies.bihai.cf/vmess/sub?filter=r, tag=bihai, update-interval=1200, opt-parser=true, enabled=true



[dns]

prefer-doh3
no-ipv6
no-system
server=223.5.5.5
server=119.29.29.29
server=114.114.114.114
doh-server = https://223.5.5.5/dns-query, https://223.6.6.6/dns-query



[policy]
static=节点选择, 自动选择, 香港节点, 美国节点, 日本节点, proxy, direct
url-latency-benchmark=自动选择, server-tag-regex=.*, check-interval=600, tolerance=0
static=Final, 节点选择, 自动选择, 香港节点, 美国节点, 日本节点, proxy, direct
url-latency-benchmark=香港节点, server-tag-regex=(?=.*(香港|HK|(?i)Hong))^((?!(日本|美国)).)*$, check-interval=600, tolerance=0
url-latency-benchmark=美国节点, server-tag-regex=(?=.*(美国|US|(?i)US))^((?!(香港|日本)).)*$, check-interval=600, tolerance=0
url-latency-benchmark=日本节点, server-tag-regex=(?=.*(日本|TY|OS|(?i)Japan))^((?!(香港|美国)).)*$, check-interval=600, tolerance=0


[filter_remote]
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, tag=规则修正, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, tag=D广告拦截, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list#type=domain-set, tag=Di广告拦截, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/Surge/AdRule.list, tag=N广告拦截, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list, tag=运营劫持, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, tag=隐私保护, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, tag=全球加速, force-policy=节点选择, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list, tag=国内网站, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true





[filter_local]
# > 知乎AD屏蔽,以下规则请放置在filter_local最顶部
DOMAIN,118.89.204.198,REJECT
DOMAIN-KEYWORD,118.89.204.198,REJECT
IP-CIDR,118.89.204.198/32,REJECT
DOMAIN,appcloud2.in.zhihu.com,REJECT
HOST,mqtt.zhihu.com,reject
HOST,sugar.zhihu.com,reject
USER-AGENT,AVOS*,REJECT

# > local
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
ip-cidr, 182.254.116.0/24, direct
geoip, cn, direct
final, Final


[http_backend]


[mitm]
skip_validating_cert = true

hostname = 

passphrase = C2D0FC11
p12 = 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

